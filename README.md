# Backend Project - Middle Developer Test Task

## Описание

Это тестовое задание для вакансии Middle Backend разработчика. Включает проектирование реляционной базы данных, написание SQL-запросов и создание REST-API сервиса для добавления товара в заказ.

## Структура проекта

1. **Схема БД**: Спроектирована для поддержки товаров, заказов и категорий.
2. **SQL запросы**: Написаны для получения информации о суммах заказов, подсчета дочерних элементов в категориях и составления отчета о топ-5 товарах.
3. **REST API**: Реализован сервис для добавления товара в заказ с проверками на наличие товара и его количество в заказе.

## Как запустить

### 1. Склонировать репозиторий

```bash
git clone https://github.com/yourusername/backend-project.git
cd backend-project
```

### 2. Установить зависимости

```bash
pip install -r requirements.txt
```
### 3. Запустить сервис

```bash
uvicorn app.main:app --reload
```
### 4. Контейнеризация с Docker
Для запуска проекта в Docker:
```bash
docker-compose up --build
```
## Пример использования API

### Добавление товара в заказ

```bash
POST /add_to_order/
```
Тело запроса:
```json
{
  "order_id": 1,
  "product_id": 1,
  "quantity": 2
}
```
Ответ:
```json
{
  "message": "Product added to order"
}
```

## Тесты

Проект включает тесты для проверки API и БД.

Запуск тестов:
```bash
pytest
```
